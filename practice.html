 <!-- <html>
    <head>
        <script>
        arr=["Kishori","Ganesh","namrata"]
        function displaylist(){
           str="<ul>"
           for(var i=0;i<arr.length;i++){
            str+="<li>"+arr[i]+"</li>"
           } 
           str+="</ul>" 
           console.log(str);
           document.getElementById("mydiv").innerHTML=str;
        }
        var displaydetails=function(){
            displaylist()
        }
        var addname=()=>{
            nm=document.getElementById("name").value;
            arr.push(nm);
            displaylist();
            //clear the data
            document.getElementById("name").value="";
            document.getElementById("name").focus()
        }
        var updatename=()=>{
            nm=document.getElementById("name").value;
            pos=arr.findIndex(name=>name===nm);
            //overwrite the value
            arr[pos]=nm;
            //to delete and replace
            arr.splice(pos,1,nm,"adfsdf","sdsd","sdfsdfsd")
        }
        var deletename=()=>{
            nm=document.getElementById("name").value;
            //search the name and returns the postion where condition is true first time
            pos=arr.findIndex(name=>name===nm)
            //if found the delete the value
            if(pos!==-1){
                arr.splice(pos,1)
            }
            
            displaylist();
            //clear the data
            document.getElementById("name").value="";
            document.getElementById("name").focus()
        }
    </script>
    </head>
    <body onload="displaydetails()">
        Name: <input type="text" name="name" id="name">
        <button type="button" name="btn" id="add" value="add" onclick="addname()">add new</button>
        <button type="button" name="btn" id="delete" value="delete name" onclick="deletename()">delete name</button>
        <button type="button" name="btn" id="update" value="delete name" onclick="updatename()">update name</button>
        <div id="mydiv">

        </div>
    </body>
</html> -->

<!-- <html>
    <body>
        <p onclick="alert('in onclick')">click event</p>
        <p onclickonmouseout="alert('on mouse out')" onmouseover="alert('in mouse over')">this is para</p>
        <input onfocus="console.log('in on focus11')"
        onblur="console.log('in on blur11')" type="text" name="nm" id="nm">
        <input onfocus="console.log('in on focus22')"
        onblur="console.log('in on blur222')" type="text" name="nm" id="nm">
    </body>
</html> -->

<html>
    <head>
        <script>
            arr=[{pid:1,pname:'chair',qty:34,price:3456},
            {pid:2,pname:'table',qty:35,price:3100},
            {pid:3,pname:'shelf',qty:30,price:3355},
            {pid:4,pname:'stool',qty:10,price:3222}
        ]
        function displaytable(){
            str="<table border='2'><tr><th>Product id</th><th>Product name</th><th>Product qty</th><th>product price</th></tr>";
            for( var ob of arr){
                //str+="<tr><td>"+ob.pid+"</td><td>"+ob.pname+"</td><td>"+ob.qty+"</td><td>"+ob.price+"</td></tr>"
                str+=`<tr><td>${ob.pid}</td><td>${ob.pname}</td><td>${ob.qty}</td><td>${ob.price}</td></tr> `

            }
            str+="</table>"
            document.getElementById("mydiv").innerHTML=str;
        }
        let clearform=()=>{
           document.getElementById("pid").value=""
            document.getElementById("pname").value=""
            document.getElementById("qty").value=""
            document.getElementById("price").value=""
        }
         function addnewproduct(){
            var pid=document.getElementById("pid").value
            var pname=document.getElementById("pname").value
            var qty=document.getElementById("qty").value
            var price=document.getElementById("price").value
            var ob={pid:parseInt(pid),pname:pname,qty:parseInt(qty),price:parseFloat(price)}
            arr.push(ob);
            displaytable();
            clearform()
            document.getElementById("pid").focus();

         }
         var updateproduct=()=>{
            //retrieve product id
            pid=parseInt(document.getElementById("pid").value)
            //search product
            var pos=arr.findIndex(a=>a.pid===pid)
            if(pos!==-1){
                var ans= confirm(`${pid} do you want to update(Y?N)`)

                if(ans){
                     //accept new qty and price
                    var newqty=parseInt(prompt("Enter new qty"))
                    var newprice=parseFloat(prompt("Enter new price"))
                     //overwrite new qty and price
                    arr[pos].qty=newqty
                    arr[pos].price=newprice
                    //display table only if array 
                    displaytable()
                } 


            }
            //clear the form
            clearform()
            //bring focus into pid
            document.getElementById("pid").focus()
           
           
            
            
            
            
         }
         var deleteproduct=()=>{
            var pid=parseInt(document.getElementById("pid").value)
            var pos=arr.findIndex(a=>a.pid===pid)
            if(pos!=-1){
                var ans=confirm(`${pid} do you want tot delete(y/n)`)
                if(ans){
                   arr.splice(pos,1)
                }
                displaytable()
            }else{
                alert("not found")
            }

            clearform()
         }
        
        </script>
    </head>
    <body onload="displaytable()">
        <form>
            Product id : <input type="text" name="pid" id="pid"><br>
            Product name: <input type="text" name="pname" id="pname"><br>
            Product quantity : <input type="text" name="qty" id="qty"><br>
            Product price: <input type="text" name="price" id="price"><br>
            <button type="button" name="btn" id="add" value="add" onclick="addnewproduct()">add new product</button>
            <button type="button" name="btn" id="del" value="del" onclick="deleteproduct()">delete product</button>
            <button type="button" name="btn" id="btn" value="update" onclick="updateproduct()">update product</button>
        </form>
        <div id="mydiv">
            
        </div>

        
    </body>
</html>